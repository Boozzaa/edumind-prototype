<!DOCTYPE html><html lang="en"><head>  <meta charset="UTF-8" />  <title>EduMind – Personal Learning Companion (Demo)</title>  <meta name="viewport" content="width=device-width, initial-scale=1.0" />  <!-- Font -->  <link rel="preconnect" href="https://fonts.googleapis.com" />  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />  <link    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"    rel="stylesheet"  />  <style>    :root {      /* Color system */      --bg: #050816;      --bg-elevated: #070b1f;      --bg-soft: #0b1020;      --card: #0c1324;      --card-soft: #101a30;      --accent: #6366f1;      --accent-soft: rgba(99, 102, 241, 0.18);      --accent-alt: #f97316;      --accent-alt-soft: rgba(249, 115, 22, 0.16);      --border-subtle: rgba(148, 163, 184, 0.18);      --border-strong: rgba(148, 163, 184, 0.36);      --text: #e5e7eb;      --text-soft: #9ca3af;      --text-faint: #6b7280;      --danger: #ef4444;      --success: #22c55e;      --surface-glass: rgba(15, 23, 42, 0.82);      --radius-lg: 18px;      --radius-xl: 26px;      --shadow-soft: 0 18px 45px rgba(0, 0, 0, 0.55);      --shadow-card: 0 14px 32px rgba(15, 23, 42, 0.95);      --transition-fast: 0.18s ease-out;      --transition-med: 0.24s ease-out;    }    * {      box-sizing: border-box;      margin: 0;      padding: 0;    }    body {      font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI",        system-ui, sans-serif;      font-size: 14px;      background:        radial-gradient(circle at top, #1e293b 0, transparent 45%),        radial-gradient(circle at bottom, #020617 0, #020617 52%, #000 100%);      color: var(--text);      min-height: 100vh;      display: flex;      justify-content: center;      padding: 16px;    }    .app-shell {      width: 100%;      max-width: 1280px;      background: linear-gradient(145deg, rgba(15, 23, 42, 0.98), rgba(15, 23, 42, 0.92));      border-radius: 30px;      border: 1px solid rgba(51, 65, 85, 0.95);      box-shadow: var(--shadow-soft);      overflow: hidden;      display: flex;      flex-direction: column;    }    /* Topbar */    .topbar {      position: sticky;      top: 0;      z-index: 20;      backdrop-filter: blur(18px);      background: linear-gradient(        to bottom,        rgba(15, 23, 42, 0.98),        rgba(15, 23, 42, 0.9),        transparent      );      border-bottom: 1px solid rgba(31, 41, 55, 0.9);      padding: 10px 18px 8px 18px;      display: flex;      align-items: center;      justify-content: space-between;      gap: 10px;    }    .topbar-left {      display: flex;      align-items: center;      gap: 10px;    }    .logo-mark {      width: 34px;      height: 34px;      border-radius: 999px;      background: conic-gradient(        from 180deg,        #6366f1,        #a855f7,        #f97316,        #22c55e,        #6366f1      );      display: flex;      align-items: center;      justify-content: center;      box-shadow: 0 0 18px rgba(79, 70, 229, 0.9);      position: relative;      overflow: hidden;    }    .logo-mark::after {      content: "EM";      font-size: 11px;      font-weight: 800;      color: #020617;      letter-spacing: 0.06em;      background: rgba(15, 23, 42, 0.86);      border-radius: 999px;      padding: 2px 7px;      border: 1px solid rgba(226, 232, 240, 0.28);    }    .brand-block {      display: flex;      flex-direction: column;      gap: 2px;    }    .brand-title {      font-size: 15px;      font-weight: 600;      letter-spacing: 0.06em;      text-transform: uppercase;      color: #f9fafb;    }    .brand-subtitle {      font-size: 11px;      color: var(--text-soft);    }    .topbar-nav {      display: flex;      gap: 4px;      align-items: center;      flex-wrap: wrap;      justify-content: center;    }    .nav-pill {      border-radius: 999px;      padding: 6px 12px;      font-size: 12px;      border: 1px solid transparent;      background: transparent;      color: var(--text-soft);      display: inline-flex;      align-items: center;      gap: 6px;      cursor: pointer;      transition: background var(--transition-fast),        color var(--transition-fast), border-color var(--transition-fast),        transform var(--transition-fast);    }    .nav-pill span.icon {      font-size: 14px;    }    .nav-pill.active {      background: radial-gradient(circle at 0 0, #4f46e5, #6366f1);      color: #f9fafb;      border-color: rgba(129, 140, 248, 0.8);      transform: translateY(-1px);      box-shadow: 0 7px 18px rgba(79, 70, 229, 0.6);    }    .nav-pill:hover:not(.active) {      background: rgba(15, 23, 42, 0.98);      border-color: rgba(55, 65, 81, 0.9);      color: #e5e7eb;    }    .topbar-right {      display: flex;      align-items: center;      gap: 8px;      flex-wrap: wrap;      justify-content: flex-end;    }    .text-pill {      border-radius: 999px;      padding: 5px 10px;      font-size: 11px;      border: 1px solid rgba(55, 65, 81, 0.95);      background: rgba(15, 23, 42, 0.92);      color: var(--text-soft);      display: inline-flex;      align-items: center;      gap: 6px;    }    .btn-ghost {      border-radius: 999px;      padding: 6px 12px;      font-size: 12px;      border: 1px solid rgba(55, 65, 81, 0.95);      background: rgba(15, 23, 42, 0.92);      color: var(--text-soft);      display: inline-flex;      align-items: center;      gap: 6px;      cursor: pointer;      transition: background var(--transition-fast),        color var(--transition-fast), border-color var(--transition-fast),        transform var(--transition-fast);    }    .btn-ghost:hover {      background: rgba(30, 64, 175, 0.35);      border-color: rgba(129, 140, 248, 1);      color: #e5e7eb;      transform: translateY(-1px);    }    .user-chip {      border-radius: 999px;      padding: 4px 9px;      font-size: 11px;      border: 1px solid rgba(55, 65, 81, 0.95);      background: rgba(15, 23, 42, 0.9);      color: var(--text-soft);      display: inline-flex;      align-items: center;      gap: 6px;    }    .avatar-circle {      width: 20px;      height: 20px;      border-radius: 999px;      background: radial-gradient(circle at 30% 0, #f97316, #6366f1);      display: inline-flex;      align-items: center;      justify-content: center;      font-size: 11px;      font-weight: 600;      color: #020617;    }    /* Layout */    .app-main {      padding: 12px 18px 18px 18px;      display: grid;      grid-template-columns: minmax(0, 1.75fr) minmax(0, 1.1fr);      gap: 14px;      min-height: 520px;    }    @media (max-width: 980px) {      .app-main {        grid-template-columns: 1fr;      }    }    /* Left: main screens */    .main-panel {      border-radius: var(--radius-xl);      background: linear-gradient(        135deg,        rgba(15, 23, 42, 0.98),        rgba(15, 23, 42, 0.96)      );      border: 1px solid rgba(30, 64, 175, 0.5);      box-shadow: var(--shadow-card);      padding: 16px 16px 14px 16px;      display: flex;      flex-direction: column;      gap: 12px;      position: relative;      overflow: hidden;    }    .main-panel-header {      display: flex;      justify-content: space-between;      align-items: center;      gap: 10px;      flex-wrap: wrap;    }    .panel-title-block {      display: flex;      flex-direction: column;      gap: 4px;    }    .panel-title {      font-size: 18px;      font-weight: 600;      letter-spacing: 0.01em;      display: flex;      align-items: center;      gap: 6px;    }    .panel-title-badge {      font-size: 11px;      padding: 2px 8px;      border-radius: 999px;      background: rgba(15, 23, 42, 0.96);      border: 1px solid rgba(148, 163, 184, 0.4);      color: var(--text-soft);    }    .panel-subtitle {      font-size: 12px;      color: var(--text-soft);      max-width: 520px;    }    .panel-chip-row {      display: flex;      flex-wrap: wrap;      gap: 6px;      font-size: 11px;      color: var(--text-soft);    }    .chip {      border-radius: 999px;      padding: 3px 8px;      border: 1px solid rgba(55, 65, 81, 0.95);      background: rgba(15, 23, 42, 0.9);      display: inline-flex;      align-items: center;      gap: 5px;    }    .chip-dot {      width: 7px;      height: 7px;      border-radius: 999px;      background: #22c55e;      box-shadow: 0 0 10px rgba(34, 197, 94, 0.7);    }    .screen-container {      position: relative;      flex: 1;      min-height: 260px;    }    .screen {      position: absolute;      inset: 0;      opacity: 0;      pointer-events: none;      transform: translateY(8px);      transition: opacity var(--transition-med), transform var(--transition-med);      display: flex;      flex-direction: column;      gap: 10px;    }    .screen.active {      opacity: 1;      pointer-events: auto;      transform: translateY(0);    }    /* RIGHT PANE: Snapshot / secondary */    .side-panel {      border-radius: var(--radius-xl);      background: radial-gradient(circle at top left, #0b1120, #020617);      border: 1px solid rgba(30, 64, 175, 0.6);      box-shadow: var(--shadow-card);      padding: 14px 14px 12px 14px;      display: flex;      flex-direction: column;      gap: 10px;      position: relative;      overflow: hidden;    }    .side-panel::before {      content: "";      position: absolute;      inset: -120px;      background-image:        radial-gradient(circle at 0 0, rgba(56, 189, 248, 0.12), transparent 55%),        radial-gradient(circle at 100% 0, rgba(244, 114, 182, 0.16), transparent 60%),        radial-gradient(circle at 0 120%, rgba(34, 197, 94, 0.1), transparent 60%);      pointer-events: none;      opacity: 0.9;    }    .side-panel-inner {      position: relative;      z-index: 1;      display: flex;      flex-direction: column;      gap: 10px;    }    .side-title {      font-size: 13px;      font-weight: 500;      display: flex;      justify-content: space-between;      gap: 6px;      align-items: baseline;    }    .side-title span.sub {      font-size: 11px;      color: var(--text-soft);    }    .side-grid {      display: grid;      grid-template-columns: repeat(2, minmax(0, 1fr));      gap: 8px;      font-size: 12px;    }    @media (max-width: 600px) {      .side-grid {        grid-template-columns: 1fr;      }    }    .side-card {      border-radius: 14px;      background: var(--surface-glass);      border: 1px solid var(--border-subtle);      padding: 8px 9px;      display: flex;      flex-direction: column;      gap: 4px;    }    .side-label {      font-size: 11px;      color: var(--text-soft);      display: flex;      align-items: center;      gap: 4px;    }    .side-value {      font-size: 14px;      font-weight: 500;    }    .progress-bar {      width: 100%;      height: 7px;      border-radius: 999px;      background: rgba(15, 23, 42, 0.9);      overflow: hidden;      position: relative;      margin-top: 2px;    }    .progress-bar-inner {      position: absolute;      inset: 0;      width: 0;      border-radius: inherit;      background: linear-gradient(90deg, #22c55e, #a3e635, #facc15, #f97316);      box-shadow: 0 0 12px rgba(34, 197, 94, 0.6);      transition: width var(--transition-med);    }    .side-pill-row {      display: flex;      flex-wrap: wrap;      gap: 5px;      font-size: 11px;      color: var(--text-soft);    }    .side-pill {      border-radius: 999px;      padding: 3px 7px;      border: 1px solid var(--border-subtle);      background: rgba(15, 23, 42, 0.9);    }    /* Forms & inputs */    .form-grid {      display: grid;      grid-template-columns: repeat(2, minmax(0, 1fr));      gap: 10px;    }    @media (max-width: 720px) {      .form-grid {        grid-template-columns: 1fr;      }    }    .form-card {      border-radius: 16px;      background: var(--card);      border: 1px solid var(--border-subtle);      padding: 10px 11px;      display: flex;      flex-direction: column;      gap: 6px;    }    .form-label {      font-size: 12px;      color: var(--text-soft);    }    .input {      border-radius: 999px;      border: 1px solid rgba(51, 65, 85, 0.9);      background: var(--bg-soft);      padding: 7px 11px;      font-size: 13px;      color: var(--text);      outline: none;      width: 100%;      transition: border-color var(--transition-fast), box-shadow var(--transition-fast),        background var(--transition-fast);    }    .input:focus {      border-color: rgba(129, 140, 248, 1);      box-shadow: 0 0 0 1px rgba(129, 140, 248, 0.6);      background: #020617;    }    .input::placeholder {      color: var(--text-faint);    }    .input-row {      display: flex;      gap: 6px;      align-items: center;      font-size: 12px;      color: var(--text-soft);    }    .range-input {      width: 100%;      accent-color: var(--accent);    }    .tag-row {      display: flex;      flex-wrap: wrap;      gap: 6px;      margin-top: 4px;    }    .tag-select {      border-radius: 999px;      padding: 5px 9px;      border: 1px solid rgba(55, 65, 81, 0.95);      background: rgba(15, 23, 42, 0.9);      font-size: 12px;      color: var(--text-soft);      display: inline-flex;      align-items: center;      gap: 6px;      cursor: pointer;      transition: background var(--transition-fast),        border-color var(--transition-fast), color var(--transition-fast),        transform var(--transition-fast);    }    .tag-select input {      display: none;    }    .tag-select.active {      background: rgba(79, 70, 229, 0.25);      border-color: rgba(129, 140, 248, 1);      color: #e5e7eb;      transform: translateY(-1px);    }    /* Buttons */    .btn-row {      display: flex;      justify-content: flex-end;      gap: 8px;      margin-top: 6px;      flex-wrap: wrap;    }    .btn-primary {      border-radius: 999px;      padding: 7px 15px;      font-size: 13px;      border: 0;      background: linear-gradient(135deg, #6366f1, #8b5cf6);      color: #f9fafb;      display: inline-flex;      align-items: center;      gap: 7px;      cursor: pointer;      box-shadow: 0 12px 28px rgba(79, 70, 229, 0.8);      transition: transform var(--transition-fast),        box-shadow var(--transition-fast), filter var(--transition-fast);    }    .btn-primary:hover {      transform: translateY(-1px);      box-shadow: 0 16px 34px rgba(79, 70, 229, 0.95);      filter: brightness(1.03);    }    .btn-secondary {      border-radius: 999px;      padding: 7px 13px;      font-size: 13px;      border: 1px solid rgba(55, 65, 81, 0.95);      background: rgba(15, 23, 42, 0.95);      color: var(--text-soft);      display: inline-flex;      align-items: center;      gap: 7px;      cursor: pointer;      transition: background var(--transition-fast), color var(--transition-fast),        border-color var(--transition-fast), transform var(--transition-fast);    }    .btn-secondary:hover {      background: rgba(30, 64, 175, 0.35);      border-color: rgba(129, 140, 248, 1);      color: #e5e7eb;      transform: translateY(-1px);    }    /* Onboarding steps */    .steps-row {      display: flex;      gap: 8px;      margin-top: 2px;      margin-bottom: 4px;      font-size: 11px;      color: var(--text-soft);      flex-wrap: wrap;    }    .step-chip {      border-radius: 999px;      padding: 3px 8px;      border: 1px solid rgba(55, 65, 81, 0.95);      background: rgba(15, 23, 42, 0.9);      display: inline-flex;      align-items: center;      gap: 5px;    }    .step-chip.active {      border-color: rgba(129, 140, 248, 1);      background: rgba(79, 70, 229, 0.4);      color: #e5e7eb;    }    .step-dot {      width: 10px;      height: 10px;      border-radius: 999px;      border: 1px solid rgba(148, 163, 184, 0.7);      background: rgba(15, 23, 42, 0.9);    }    .step-dot.filled {      background: #22c55e;      box-shadow: 0 0 10px rgba(34, 197, 94, 0.7);      border-color: rgba(34, 197, 94, 0.9);    }    /* Profile screen */    .two-col {      display: grid;      grid-template-columns: minmax(0, 1.4fr) minmax(0, 1.2fr);      gap: 10px;    }    @media (max-width: 880px) {      .two-col {        grid-template-columns: 1fr;      }    }    .card {      border-radius: 16px;      background: var(--card);      border: 1px solid var(--border-subtle);      padding: 10px 11px;      display: flex;      flex-direction: column;      gap: 6px;    }    .card-header-row {      display: flex;      justify-content: space-between;      align-items: center;      gap: 8px;      font-size: 12px;    }    .card-title {      font-size: 13px;      font-weight: 500;    }    .pill-mini {      border-radius: 999px;      padding: 2px 7px;      border: 1px solid rgba(55, 65, 81, 0.95);      background: rgba(15, 23, 42, 0.9);      color: var(--text-soft);      font-size: 11px;    }    .chip-list {      display: flex;      flex-wrap: wrap;      gap: 6px;      margin-top: 2px;      font-size: 11px;      color: var(--text-soft);    }    .chip-strong {      border-radius: 999px;      padding: 3px 8px;      background: rgba(22, 163, 74, 0.16);      border: 1px solid rgba(22, 163, 74, 0.5);      color: #bbf7d0;    }    .chip-weak {      border-radius: 999px;      padding: 3px 8px;      background: rgba(127, 29, 29, 0.3);      border: 1px solid rgba(239, 68, 68, 0.7);      color: #fecaca;    }    .accordion {      margin-top: 4px;      border-radius: 12px;      border: 1px solid rgba(55, 65, 81, 0.95);      background: var(--bg-soft);      overflow: hidden;    }    .accordion-header {      padding: 7px 9px;      font-size: 12px;      display: flex;      align-items: center;      justify-content: space-between;      gap: 8px;      cursor: pointer;    }    .accordion-body {      padding: 7px 9px 8px 9px;      font-size: 12px;      color: var(--text-soft);      display: none;    }    .accordion-body.open {      display: block;    }    /* Quizzes */    .quiz-layout {      display: grid;      grid-template-columns: minmax(0, 1.4fr) minmax(0, 1.1fr);      gap: 10px;    }    @media (max-width: 880px) {      .quiz-layout {        grid-template-columns: 1fr;      }    }    .quiz-list {      display: flex;      flex-direction: column;      gap: 8px;      max-height: 280px;      overflow-y: auto;      padding-right: 4px;    }    .quiz-card {      border-radius: 14px;      background: var(--card);      border: 1px solid var(--border-subtle);      padding: 8px 9px;      display: grid;      grid-template-columns: auto minmax(0, 1fr) auto;      align-items: center;      gap: 8px;      cursor: pointer;      transition: border-color var(--transition-fast),        background var(--transition-fast), transform var(--transition-fast);    }    .quiz-card:hover {      border-color: rgba(129, 140, 248, 1);      background: #020617;      transform: translateY(-1px);      box-shadow: 0 8px 18px rgba(15, 23, 42, 0.9);    }    .quiz-icon {      width: 30px;      height: 30px;      border-radius: 999px;      background: var(--accent-soft);      display: flex;      align-items: center;      justify-content: center;      font-size: 16px;    }    .quiz-main {      display: flex;      flex-direction: column;      gap: 2px;      font-size: 12px;    }    .quiz-title {      font-size: 13px;      font-weight: 500;    }    .quiz-meta-row {      display: flex;      flex-wrap: wrap;      gap: 6px;      color: var(--text-soft);    }    .quiz-badge {      border-radius: 999px;      padding: 2px 7px;      font-size: 11px;      border: 1px solid rgba(55, 65, 81, 0.95);      background: rgba(15, 23, 42, 0.95);      color: var(--text-soft);    }    .quiz-badge.recommended {      background: rgba(79, 70, 229, 0.3);      border-color: rgba(129, 140, 248, 1);      color: #e5e7eb;    }    .quiz-progress-label {      font-size: 11px;      color: var(--text-soft);      text-align: right;    }    .quiz-panel {      border-radius: 14px;      background: var(--card);      border: 1px solid var(--border-subtle);      padding: 9px 10px;      display: flex;      flex-direction: column;      gap: 7px;      max-height: 280px;      overflow-y: auto;    }    .quiz-question-meta {      font-size: 11px;      color: var(--text-soft);      display: flex;      justify-content: space-between;      gap: 6px;      flex-wrap: wrap;    }    .quiz-question-text {      font-size: 13px;      font-weight: 500;    }    .quiz-options {      display: flex;      flex-direction: column;      gap: 6px;      margin-top: 2px;    }    .quiz-option {      border-radius: 10px;      border: 1px solid rgba(55, 65, 81, 0.95);      background: var(--bg-soft);      padding: 6px 8px;      font-size: 12px;      display: flex;      justify-content: space-between;      align-items: center;      gap: 8px;      cursor: pointer;      transition: border-color var(--transition-fast),        background var(--transition-fast), transform var(--transition-fast);    }    .quiz-option:hover {      border-color: rgba(129, 140, 248, 1);      transform: translateY(-1px);    }    .quiz-option.correct {      border-color: rgba(34, 197, 94, 0.9);      background: rgba(22, 163, 74, 0.22);    }    .quiz-option.incorrect {      border-color: rgba(239, 68, 68, 0.9);      background: rgba(127, 29, 29, 0.35);    }    .quiz-option-label {      display: flex;      align-items: flex-start;      gap: 6px;    }    .quiz-option-letter {      width: 18px;      height: 18px;      border-radius: 999px;      border: 1px solid rgba(75, 85, 99, 0.95);      display: flex;      align-items: center;      justify-content: center;      font-size: 11px;      color: var(--text-soft);    }    .quiz-footer-row {      display: flex;      justify-content: space-between;      align-items: center;      gap: 8px;      flex-wrap: wrap;      font-size: 11px;      color: var(--text-soft);    }    .quiz-feedback {      font-size: 11px;    }    .quiz-feedback.correct {      color: var(--success);    }    .quiz-feedback.incorrect {      color: var(--danger);    }    /* Roadmap */    .roadmap-layout {      display: grid;      grid-template-columns: minmax(0, 1.5fr) minmax(0, 1.1fr);      gap: 10px;    }    @media (max-width: 880px) {      .roadmap-layout {        grid-template-columns: 1fr;      }    }    .roadmap-list {      display: flex;      flex-direction: column;      gap: 8px;      max-height: 280px;      overflow-y: auto;      padding-right: 4px;      font-size: 12px;    }    .roadmap-card {      border-radius: 14px;      background: var(--card);      border: 1px solid var(--border-subtle);      padding: 8px 9px;      display: flex;      flex-direction: column;      gap: 4px;    }    .roadmap-header {      display: flex;      justify-content: space-between;      gap: 6px;      align-items: baseline;    }    .roadmap-title {      font-size: 13px;      font-weight: 500;    }    .roadmap-meta {      font-size: 11px;      color: var(--text-soft);    }    .roadmap-task-list {      margin-top: 3px;      padding-left: 14px;      color: var(--text-soft);    }    .roadmap-side {      border-radius: 14px;      background: var(--card);      border: 1px solid var(--border-subtle);      padding: 9px 10px;      font-size: 12px;      color: var(--text-soft);      display: flex;      flex-direction: column;      gap: 7px;    }    /* HOME SCREEN */    .home-layout {      display: flex;      flex-direction: column;      gap: 10px;    }    .home-hero {      display: grid;      grid-template-columns: minmax(0, 1.6fr) minmax(0, 1.1fr);      gap: 10px;    }    @media (max-width: 880px) {      .home-hero {        grid-template-columns: 1fr;      }    }    .home-hero-main {      border-radius: 18px;      padding: 12px 14px;      background: radial-gradient(circle at 0 0, #1d4ed8, #0b1120);      border: 1px solid rgba(129, 140, 248, 0.7);      box-shadow: 0 14px 32px rgba(37, 99, 235, 0.7);      display: flex;      flex-direction: column;      gap: 8px;      position: relative;      overflow: hidden;    }    .home-hero-main::after {      content: "";      position: absolute;      inset: -140px;      background:        radial-gradient(circle at 10% 0, rgba(251, 191, 36, 0.22), transparent 55%),        radial-gradient(circle at 80% 100%, rgba(56, 189, 248, 0.22), transparent 60%);      opacity: 0.8;      pointer-events: none;    }    .home-hero-main-inner {      position: relative;      z-index: 1;      display: flex;      flex-direction: column;      gap: 8px;    }    .home-hero-kicker {      font-size: 11px;      text-transform: uppercase;      letter-spacing: 0.14em;      color: #a5b4fc;      display: flex;      align-items: center;      gap: 6px;    }    .home-hero-kicker span.dot {      width: 6px;      height: 6px;      border-radius: 999px;      background: #22c55e;      box-shadow: 0 0 10px rgba(34, 197, 94, 0.9);    }    .home-hero-title {      font-size: 20px;      font-weight: 600;      letter-spacing: 0.01em;      color: #f9fafb;    }    .home-hero-title span.accent {      color: #bfdbfe;    }    .home-hero-subtitle {      font-size: 12px;      color: #e5e7eb;      max-width: 420px;    }    .home-hero-actions {      display: flex;      flex-wrap: wrap;      gap: 8px;      margin-top: 4px;    }    .home-hero-pill-row {      display: flex;      flex-wrap: wrap;      gap: 6px;      margin-top: 4px;      font-size: 11px;      color: #e5e7eb;    }    .home-hero-pill {      padding: 3px 8px;      border-radius: 999px;      border: 1px solid rgba(191, 219, 254, 0.8);      background: rgba(15, 23, 42, 0.5);      display: inline-flex;      align-items: center;      gap: 5px;    }    .home-hero-side {      border-radius: 18px;      padding: 10px 11px;      background: var(--card-soft);      border: 1px solid var(--border-subtle);      display: flex;      flex-direction: column;      gap: 8px;    }    .home-hero-side-header {      display: flex;      justify-content: space-between;      align-items: center;      gap: 6px;      font-size: 12px;    }    .home-hero-side-title {      font-weight: 500;    }    .home-mini-list {      display: flex;      flex-direction: column;      gap: 6px;      font-size: 11px;      color: var(--text-soft);      margin-top: 4px;    }    .home-mini-item {      display: flex;      justify-content: space-between;      align-items: center;      gap: 6px;    }    .home-mini-label {      display: flex;      align-items: center;      gap: 6px;    }    .home-dot {      width: 9px;      height: 9px;      border-radius: 999px;      background: rgba(56, 189, 248, 0.4);      border: 1px solid rgba(96, 165, 250, 0.9);    }    .home-dot.orange {      background: rgba(249, 115, 22, 0.4);      border-color: rgba(251, 146, 60, 0.9);    }    .home-dot.green {      background: rgba(34, 197, 94, 0.4);      border-color: rgba(74, 222, 128, 0.9);    }    .home-grid {      display: grid;      grid-template-columns: minmax(0, 1.3fr) minmax(0, 1.1fr);      gap: 10px;    }    @media (max-width: 880px) {      .home-grid {        grid-template-columns: 1fr;      }    }    .home-card {      border-radius: 16px;      background: var(--card);      border: 1px solid var(--border-subtle);      padding: 10px 11px;      display: flex;      flex-direction: column;      gap: 7px;      font-size: 12px;    }    .home-card-header {      display: flex;      justify-content: space-between;      align-items: baseline;      gap: 6px;    }    .home-card-title {      font-size: 13px;      font-weight: 500;    }    .home-card-sub {      font-size: 11px;      color: var(--text-soft);    }    .home-kpi-grid {      display: grid;      grid-template-columns: repeat(3, minmax(0, 1fr));      gap: 7px;    }    @media (max-width: 720px) {      .home-kpi-grid {        grid-template-columns: repeat(2, minmax(0, 1fr));      }    }    .home-kpi-card {      border-radius: 12px;      background: var(--bg-soft);      border: 1px solid var(--border-subtle);      padding: 7px 8px;      display: flex;      flex-direction: column;      gap: 3px;      font-size: 11px;    }    .home-kpi-label {      color: var(--text-soft);      display: flex;      align-items: center;      gap: 4px;    }    .home-kpi-value {      font-size: 14px;      font-weight: 500;    }    .home-kpi-tag {      font-size: 10px;      color: var(--text-faint);    }    .home-list {      display: flex;      flex-direction: column;      gap: 6px;      margin-top: 3px;    }    .home-list-item {      display: flex;      justify-content: space-between;      align-items: center;      gap: 6px;      padding: 6px 7px;      border-radius: 10px;      background: var(--bg-soft);      border: 1px solid rgba(31, 41, 55, 0.9);      cursor: pointer;      transition: border-color var(--transition-fast),        background var(--transition-fast), transform var(--transition-fast);    }    .home-list-item:hover {      border-color: rgba(129, 140, 248, 1);      background: #020617;      transform: translateY(-1px);    }    .home-list-text {      display: flex;      flex-direction: column;      gap: 1px;    }    .home-list-title {      font-size: 12px;      font-weight: 500;    }    .home-list-meta {      font-size: 11px;      color: var(--text-soft);    }    .home-list-pill {      font-size: 11px;      border-radius: 999px;      padding: 3px 7px;      border: 1px solid rgba(55, 65, 81, 0.95);      background: rgba(15, 23, 42, 0.95);      color: var(--text-soft);    }    .home-today-section {      display: flex;      flex-direction: column;      gap: 6px;      margin-top: 3px;    }    .home-today-card {      border-radius: 12px;      background: var(--bg-soft);      border: 1px solid rgba(31, 41, 55, 0.9);      padding: 7px 8px;      display: flex;      flex-direction: column;      gap: 3px;    }    .home-today-label {      font-size: 11px;      color: var(--text-soft);      display: flex;      align-items: center;      gap: 4px;    }    .home-today-title {      font-size: 12px;      font-weight: 500;    }    .home-today-text {      font-size: 11px;      color: var(--text-soft);    }    /* Scrollbars */    ::-webkit-scrollbar {      width: 6px;      height: 6px;    }    ::-webkit-scrollbar-track {      background: transparent;    }    ::-webkit-scrollbar-thumb {      background: rgba(55, 65, 81, 0.7);      border-radius: 999px;    }    ::-webkit-scrollbar-thumb:hover {      background: rgba(75, 85, 99, 0.95);    }    /* Small utility text */    .muted {      color: var(--text-soft);      font-size: 11px;    }    .muted-strong {      color: var(--text-soft);      font-size: 12px;    }    code {      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,        "Liberation Mono", "Courier New", monospace;      font-size: 11px;      background: rgba(15, 23, 42, 0.9);      padding: 1px 4px;      border-radius: 4px;      border: 1px solid rgba(55, 65, 81, 0.95);    }    @media (max-width: 720px) {      body {        padding: 10px;      }      .app-shell {        border-radius: 24px;      }      .topbar {        padding-inline: 12px;      }      .app-main {        padding-inline: 12px;      }    }  </style></head><body>  <div class="app-shell">    <!-- TOPBAR -->    <header class="topbar">      <div class="topbar-left">        <div class="logo-mark"></div>        <div class="brand-block">          <div classbrand-title">EDUMIND</div>          <div class="brand-title">EDUMIND</div>          <div class="brand-subtitle">Personal learning companion • Demo</div>        </div>      </div>      <nav class="topbar-nav" id="topNav">        <button class="nav-pill active" data-screen="home">          <span class="icon">??</span> Home        </button>        <button class="nav-pill" data-screen="onboarding">          <span class="icon">?</span> Onboarding        </button>        <button class="nav-pill" data-screen="profile">          <span class="icon">??</span> Profile        </button>        <button class="nav-pill" data-screen="quizzes">          <span class="icon">??</span> Quizzes        </button>        <button class="nav-pill" data-screen="roadmap">          <span class="icon">??</span> Roadmap        </button>      </nav>      <div class="topbar-right">        <div class="text-pill" id="demoModeBadge">          Demo mode · data stored locally        </div>        <button class="btn-ghost" id="btnResetDemo">          ?? Reset demo        </button>        <div class="user-chip" id="userChip">          <div class="avatar-circle" id="avatarCircle">U</div>          <span id="userChipName">New learner</span>        </div>      </div>    </header>    <!-- MAIN LAYOUT -->    <main class="app-main">      <!-- Left: main screens -->      <section class="main-panel">        <div class="main-panel-header">          <div class="panel-title-block">            <div class="panel-title">              <span id="panelTitle">Your EduMind home</span>              <span class="panel-title-badge" id="panelTitleBadge">                Overview · next best steps              </span>            </div>            <p class="panel-subtitle" id="panelSubtitle">              Start from your home screen: see where you are, what to do next, and jump into              onboarding, quizzes, or your roadmap with one tap.            </p>          </div>          <div class="panel-chip-row">            <div class="chip">              <span class="chip-dot"></span> Clean sections · no clutter            </div>            <div class="chip">              ?? Home as a control center            </div>          </div>        </div>        <div class="screen-container">          <!-- HOME -->          <section class="screen active" id="screen-home">            <div class="home-layout">              <div class="home-hero">                <div class="home-hero-main">                  <div class="home-hero-main-inner">                    <div class="home-hero-kicker">                      <span class="dot"></span>                      <span id="homeHeroKicker">Welcome, new learner</span>                    </div>                    <div class="home-hero-title" id="homeHeroTitle">                      Let’s turn <span class="accent">small learning blocks</span>                      into real momentum.                    </div>                    <div class="home-hero-subtitle" id="homeHeroSubtitle">                      Start with a 1-minute setup, then move through short quizzes and a realistic roadmap tuned to your weekly time budget.                    </div>                    <div class="home-hero-actions">                      <button class="btn-primary" id="btnHomePrimary">                        ?? Start onboarding                      </button>                      <button class="btn-secondary" id="btnHomeSecondary">                        ?? Jump into a quiz                      </button>                    </div>                    <div class="home-hero-pill-row" id="homeHeroPills">                      <div class="home-hero-pill">                        ?? No account in this demo · local only                      </div>                      <div class="home-hero-pill">                        ?? Designed for 10–20 min sessions                      </div>                    </div>                  </div>                </div>                <div class="home-hero-side">                  <div class="home-hero-side-header">                    <div class="home-hero-side-title">Quick snapshot</div>                    <div class="pill-mini" id="homeQuickLabel">Setup in progress</div>                  </div>                  <div class="home-mini-list" id="homeMiniList">                    <!-- filled via JS -->                  </div>                </div>              </div>              <div class="home-grid">                <div class="home-card">                  <div class="home-card-header">                    <div>                      <div class="home-card-title">Today’s priorities</div>                      <div class="home-card-sub" id="homeTodaySub">                        A realistic, bite-sized plan based on your setup.                      </div>                    </div>                    <div class="pill-mini" id="homeTimeBudgetLabel">                      Time budget · not set                    </div>                  </div>                  <div class="home-kpi-grid">                    <div class="home-kpi-card">                      <div class="home-kpi-label">                        ?? Quiz accuracy                      </div>                      <div class="home-kpi-value" id="homeKpiAccuracy">0%</div>                      <div class="home-kpi-tag">We’ll use this to tune difficulty.</div>                    </div>                    <div class="home-kpi-card">                      <div class="home-kpi-label">                        ?? Learning streak                      </div>                      <div class="home-kpi-value" id="homeKpiStreak">0 days</div>                      <div class="home-kpi-tag">In a full app, this syncs across devices.</div>                    </div>                    <div class="home-kpi-card">                      <div class="home-kpi-label">                        ?? Focus areas                      </div>                      <div class="home-kpi-value" id="homeKpiFocusCount">0</div>                      <div class="home-kpi-tag">Number of active topics you selected.</div>                    </div>                  </div>                  <div class="home-list" id="homeNextActions">                    <!-- next actions -->                  </div>                </div>                <div class="home-card">                  <div class="home-card-header">                    <div>                      <div class="home-card-title">Today for you</div>                      <div class="home-card-sub">                        One snapshot, one quick quiz, one reflection.                      </div>                    </div>                  </div>                  <div class="home-today-section" id="homeTodaySection">                    <!-- populated via JS -->                  </div>                </div>              </div>            </div>          </section>          <!-- ONBOARDING -->          <section class="screen" id="screen-onboarding">            <div class="steps-row">              <div class="step-chip" id="stepChip1">                <span class="step-dot filled"></span> 1 · About you              </div>              <div class="step-chip" id="stepChip2">                <span class="step-dot" id="stepDot2"></span> 2 · Personality snapshot              </div>              <div class="step-chip" id="stepChip3">                <span class="step-dot" id="stepDot3"></span> 3 · Learning preferences              </div>            </div>            <!-- Step 1 -->            <div class="form-grid" id="onboardingStep1">              <div class="form-card">                <div class="form-label">Your name</div>                <input                  type="text"                  class="input"                  id="inputName"                  placeholder="E.g. Alex Johnson"                />                <div class="form-label">Email (optional)</div>                <input                  type="email"                  class="input"                  id="inputEmail"                  placeholder="For a real product: progress sync & reminders"                />              </div>              <div class="form-card">                <div class="form-label">Current focus</div>                <input                  type="text"                  class="input"                  id="inputRole"                  placeholder="Student, career switcher, junior dev, marketer..."                />                <div class="form-label">Main learning goal for the next 3–6 months</div>                <input                  type="text"                  class="input"                  id="inputGoal"                  placeholder="E.g. Become confident in web fundamentals"                />              </div>            </div>            <!-- Step 2 -->            <div class="form-grid" id="onboardingStep2" style="display: none;">              <div class="form-card">                <div class="form-label">How do you naturally approach problems?</div>                <div class="input-row">                  <span>Intuitive</span>                  <input                    type="range"                    min="1"                    max="5"                    value="3"                    class="range-input"                    id="qAnalytical"                  />                  <span>Analytical</span>                </div>                <div class="form-label">What energizes you the most?</div>                <div class="input-row">                  <span>Following clear steps</span>                  <input                    type="range"                    min="1"                    max="5"                    value="3"                    class="range-input"                    id="qCreative"                  />                  <span>Creating new ideas</span>                </div>                <div class="form-label">How do you prefer to work with others?</div>                <div class="input-row">                  <span>Independently</span>                  <input                    type="range"                    min="1"                    max="5"                    value="3"                    class="range-input"                    id="qPeople"                  />                  <span>With people</span>                </div>              </div>              <div class="form-card">                <div class="form-label">Structure vs. exploration</div>                <div class="input-row">                  <span>Highly structured</span>                  <input                    type="range"                    min="1"                    max="5"                    value="3"                    class="range-input"                    id="qStructure"                  />                  <span>Exploratory</span>                </div>                <div class="form-label">Focus style</div>                <div class="input-row">                  <span>Short sprints</span>                  <input                    type="range"                    min="1"                    max="5"                    value="3"                    class="range-input"                    id="qFocus"                  />                  <span>Deep work blocks</span>                </div>                <div class="muted" style="margin-top: 4px;">                  This is not a clinical personality test – just a quick snapshot to                  tailor your learning path.                </div>              </div>            </div>            <!-- Step 3 -->            <div class="form-grid" id="onboardingStep3" style="display: none;">              <div class="form-card">                <div class="form-label">What do you want to learn first?</div>                <div class="tag-row" id="topicTags">                  <label class="tag-select">                    <input type="checkbox" value="Frontend fundamentals" />                    <span>?? Frontend fundamentals</span>                  </label>                  <label class="tag-select">                    <input type="checkbox" value="Digital marketing" />                    <span>?? Digital marketing</span>                  </label>                  <label class="tag-select">                    <input type="checkbox" value="Data & analytics" />                    <span>?? Data & analytics</span>                  </label>                  <label class="tag-select">                    <input type="checkbox" value="Soft skills" />                    <span>???????? Soft skills</span>                  </label>                  <label class="tag-select">                    <input type="checkbox" value="AI & automation" />                    <span>?? AI & automation</span>                  </label>                </div>                <div class="form-label" style="margin-top: 6px;">                  How many hours per week can you realistically invest?                </div>                <div class="tag-row" id="timeTags">                  <label class="tag-select">                    <input type="radio" name="time" value="1–2h / week" />                    <span>?? 1–2h</span>                  </label>                  <label class="tag-select">                    <input type="radio" name="time" value="3–5h / week" />                    <span>?? 3–5h</span>                  </label>                  <label class="tag-select">                    <input type="radio" name="time" value="6–8h / week" />                    <span>?? 6–8h</span>                  </label>                </div>              </div>              <div class="form-card">                <div class="form-label">How do you like to learn?</div>                <div class="tag-row" id="styleTags">                  <label class="tag-select">                    <input type="checkbox" value="Short micro-lessons" />                    <span>? Short micro-lessons</span>                  </label>                  <label class="tag-select">                    <input type="checkbox" value="Deep-dive videos" />                    <span>?? Deep-dive videos</span>                  </label>                  <label class="tag-select">                    <input type="checkbox" value="Hands-on projects" />                    <span>?? Hands-on projects</span>                  </label>                  <label class="tag-select">                    <input type="checkbox" value="Quizzes & flashcards" />                    <span>?? Quizzes & flashcards</span>                  </label>                  <label class="tag-select">                    <input type="checkbox" value="Live sessions" />                    <span>?? Live sessions</span>                  </label>                </div>                <div class="muted" style="margin-top: 4px;">                  Your selections will shape your home screen, quiz suggestions, and roadmap.                </div>              </div>            </div>            <div class="btn-row">              <button class="btn-secondary" id="btnOnboardingBack">                ? Back              </button>              <button class="btn-primary" id="btnOnboardingNext">                Next step ?              </button>            </div>          </section>          <!-- PROFILE -->          <section class="screen" id="screen-profile">            <div class="two-col">              <div class="card">                <div class="card-header-row">                  <div class="card-title">Your profile</div>                  <span class="pill-mini" id="profileSummaryLabel">New learner</span>                </div>                <div class="muted-strong" id="profileIntro">                  Complete the onboarding to see your personalised profile.                </div>                <div class="chip-list" id="profileHighlights">                  <!-- populated via JS -->                </div>                <div class="accordion" id="accStrengths">                  <div class="accordion-header">                    <span>Top strengths</span>                    <span>?</span>                  </div>                  <div class="accordion-body" id="strengthsBody">                    Once you complete the quick personality snapshot, we will highlight the                    skills and traits you can lean on while learning.                  </div>                </div>                <div class="accordion" id="accGrowth">                  <div class="accordion-header">                    <span>Growth opportunities</span>                    <span>?</span>                  </div>                  <div class="accordion-body" id="growthBody">                    Growth zones are not “weaknesses” – they are areas where focused practice                    and better learning design will have the biggest effect.                  </div>                </div>                <div class="btn-row" style="justify-content: flex-start; margin-top: 6px;">                  <button class="btn-secondary" id="btnRetakeTest">                    ?? Retake personality snapshot                  </button>                </div>              </div>              <div class="card">                <div class="card-header-row">                  <div class="card-title">Learning preferences</div>                  <span class="pill-mini" id="prefsSummaryLabel">Not set yet</span>                </div>                <div class="chip-list" id="prefsTopicsRow">                  <!-- topics -->                </div>                <div class="chip-list" id="prefsStylesRow">                  <!-- styles -->                </div>                <div class="accordion" id="accLearningStyle">                  <div class="accordion-header">                    <span>How EduMind would use this</span>                    <span>?</span>                  </div>                  <div class="accordion-body">                    In a full product, these preferences would:                    <ul style="margin-top: 4px; padding-left: 16px;">                      <li>Reorder your home screen modules.</li>                      <li>Prioritise the right type of content (micro-lessons vs. deep dives).</li>                      <li>Drive quiz recommendations and scheduling.</li>                      <li>Adjust your roadmap to your realistic weekly time budget.</li>                    </ul>                  </div>                </div>              </div>            </div>          </section>          <!-- QUIZZES -->          <section class="screen" id="screen-quizzes">            <div class="quiz-layout">              <div class="quiz-list" id="quizList"></div>              <div class="quiz-panel" id="quizPanel">                <div class="quiz-question-meta">                  <span id="quizMetaLabel">Pick a quiz to get started</span>                  <span id="quizProgressLabel">Score: 0 / 0</span>                </div>                <div class="quiz-question-text" id="quizQuestionText">                  Choose a quiz on the left. We'll show one question at a time, optimised for                  quick progress.                </div>                <div class="quiz-options" id="quizOptions"></div>                <div class="quiz-footer-row">                  <div class="quiz-feedback" id="quizFeedback"></div>                  <div>                    <button class="btn-secondary" id="btnNextQuestion" style="font-size: 11px;">                      Next question ?                    </button>                  </div>                </div>              </div>            </div>          </section>          <!-- ROADMAP -->          <section class="screen" id="screen-roadmap">            <div class="roadmap-layout">              <div class="roadmap-list" id="roadmapList">                <!-- populated via JS -->              </div>              <div class="roadmap-side">                <div class="muted-strong">                  This is your **visual learning lane**: weeks, themes, and key actions.                </div>                <div>                  <strong style="font-size: 12px;">How it works in this demo</strong>                  <ul style="margin-top: 4px; padding-left: 16px;">                    <li>                      Weeks are generated from your preferences (topics + time budget).                    </li>                    <li>                      Progress bars update as you answer quiz questions correctly.                    </li>                    <li>                      In a full product, this would connect to real course & lesson data.                    </li>                  </ul>                </div>                <div class="muted">                  Tip: open this screen after a few quiz attempts to see the roadmap adapt.                </div>              </div>            </div>          </section>        </div>      </section>      <!-- Right: snapshot -->      <aside class="side-panel">        <div class="side-panel-inner">          <div class="side-title">            <span>Today’s snapshot</span>            <span class="sub" id="snapshotSub">Getting to know you</span>          </div>          <div class="side-grid">            <div class="side-card">              <div class="side-label">                Learning streak                <span style="font-size: 10px; color: var(--text-faint);">(demo)</span>              </div>              <div class="side-value" id="streakLabel">0 days</div>              <div class="progress-bar">                <div class="progress-bar-inner" id="streakBar"></div>              </div>            </div>            <div class="side-card">              <div class="side-label">                Quiz accuracy                <span style="font-size: 10px; color: var(--text-faint);">(demo)</span>              </div>              <div class="side-value" id="accuracyLabel">0%</div>              <div class="progress-bar">                <div class="progress-bar-inner" id="accuracyBar"></div>              </div>            </div>          </div>          <div class="side-card">            <div class="side-label">              Personality snapshot              <span style="font-size: 10px; color: var(--text-faint);">from quick sliders</span>            </div>            <div class="side-pill-row" id="snapshotTraits">              <!-- traits pills -->            </div>          </div>          <div class="side-card">            <div class="side-label">              Active focus areas            </div>            <div class="side-pill-row" id="snapshotFocusAreas">              <!-- topics -->            </div>          </div>        </div>      </aside>    </main>  </div>  <script>    // Simple demo state with localStorage persistence    const STORAGE_KEY = "edumind_demo_state_v2";    const defaultState = {      user: {        name: "",        email: "",        role: "",        goal: "",      },      personality: {        analytical: 0,        creative: 0,        people: 0,        structure: 0,        focus: 0,      },      strengths: [],      growthAreas: [],      preferences: {        topics: [],        time: "",        styles: [],      },      quiz: {        totalAnswered: 0,        totalCorrect: 0,        streak: 0,        currentQuizId: null,        currentQuestionIndex: 0,        perQuiz: {},      },      onboardingStep: 1,    };    let state = loadState();    function loadState() {      try {        const raw = localStorage.getItem(STORAGE_KEY);        if (!raw) return structuredClone(defaultState);        const parsed = JSON.parse(raw);        return { ...structuredClone(defaultState), ...parsed };      } catch (e) {        return structuredClone(defaultState);      }    }    function saveState() {      try {        localStorage.setItem(STORAGE_KEY, JSON.stringify(state));      } catch (e) {}    }    function resetState() {      state = structuredClone(defaultState);      saveState();      updateUIAll();      goToScreen("home");    }    function structuredClone(obj) {      return JSON.parse(JSON.stringify(obj));    }    // Elements    const navButtons = document.querySelectorAll(".nav-pill");    const screens = document.querySelectorAll(".screen");    const panelTitle = document.getElementById("panelTitle");    const panelTitleBadge = document.getElementById("panelTitleBadge");    const panelSubtitle = document.getElementById("panelSubtitle");    const demoModeBadge = document.getElementById("demoModeBadge");    const userChipName = document.getElementById("userChipName");    const avatarCircle = document.getElementById("avatarCircle");    const snapshotSub = document.getElementById("snapshotSub");    const snapshotTraits = document.getElementById("snapshotTraits");    const snapshotFocusAreas = document.getElementById("snapshotFocusAreas");    // Home elements    const homeHeroKicker = document.getElementById("homeHeroKicker");    const homeHeroTitle = document.getElementById("homeHeroTitle");    const homeHeroSubtitle = document.getElementById("homeHeroSubtitle");    const homeHeroPills = document.getElementById("homeHeroPills");    const homeQuickLabel = document.getElementById("homeQuickLabel");    const homeMiniList = document.getElementById("homeMiniList");    const homeKpiAccuracy = document.getElementById("homeKpiAccuracy");    const homeKpiStreak = document.getElementById("homeKpiStreak");    const homeKpiFocusCount = document.getElementById("homeKpiFocusCount");    const homeTimeBudgetLabel = document.getElementById("homeTimeBudgetLabel");    const homeTodaySub = document.getElementById("homeTodaySub");    const homeNextActions = document.getElementById("homeNextActions");    const homeTodaySection = document.getElementById("homeTodaySection");    const btnHomePrimary = document.getElementById("btnHomePrimary");    const btnHomeSecondary = document.getElementById("btnHomeSecondary");    // Onboarding elements    const onboardingStep1 = document.getElementById("onboardingStep1");    const onboardingStep2 = document.getElementById("onboardingStep2");    const onboardingStep3 = document.getElementById("onboardingStep3");    const btnOnboardingNext = document.getElementById("btnOnboardingNext");    const btnOnboardingBack = document.getElementById("btnOnboardingBack");    const stepChip1 = document.getElementById("stepChip1");    const stepChip2 = document.getElementById("stepChip2");    const stepChip3 = document.getElementById("stepChip3");    const stepDot2 = document.getElementById("stepDot2");    const stepDot3 = document.getElementById("stepDot3");    const inputName = document.getElementById("inputName");    const inputEmail = document.getElementById("inputEmail");    const inputRole = document.getElementById("inputRole");    const inputGoal = document.getElementById("inputGoal");    // Personality sliders    const qAnalytical = document.getElementById("qAnalytical");    const qCreative = document.getElementById("qCreative");    const qPeople = document.getElementById("qPeople");    const qStructure = document.getElementById("qStructure");    const qFocus = document.getElementById("qFocus");    // Preferences tags    const topicTags = document.getElementById("topicTags");    const timeTags = document.getElementById("timeTags");    const styleTags = document.getElementById("styleTags");    // Profile    const profileSummaryLabel = document.getElementById("profileSummaryLabel");    const profileIntro = document.getElementById("profileIntro");    const profileHighlights = document.getElementById("profileHighlights");    const strengthsBody = document.getElementById("strengthsBody");    const growthBody = document.getElementById("growthBody");    const prefsSummaryLabel = document.getElementById("prefsSummaryLabel");    const prefsTopicsRow = document.getElementById("prefsTopicsRow");    const prefsStylesRow = document.getElementById("prefsStylesRow");    const btnRetakeTest = document.getElementById("btnRetakeTest");    // Snapshot metrics    const streakLabel = document.getElementById("streakLabel");    const streakBar = document.getElementById("streakBar");    const accuracyLabel = document.getElementById("accuracyLabel");    const accuracyBar = document.getElementById("accuracyBar");    // Quizzes    const quizListEl = document.getElementById("quizList");    const quizMetaLabel = document.getElementById("quizMetaLabel");    const quizProgressLabel = document.getElementById("quizProgressLabel");    const quizQuestionText = document.getElementById("quizQuestionText");    const quizOptionsEl = document.getElementById("quizOptions");    const quizFeedbackEl = document.getElementById("quizFeedback");    const btnNextQuestion = document.getElementById("btnNextQuestion");    // Roadmap    const roadmapList = document.getElementById("roadmapList");    // Reset demo    const btnResetDemo = document.getElementById("btnResetDemo");    // QUIZ DATA    const quizzesData = [      {        id: "html-basics",        icon: "??",        title: "HTML & structure fundamentals",        difficulty: "Beginner",        estTime: "5–7 min",        topic: "Frontend fundamentals",        recommendedFor: ["Frontend fundamentals", "AI & automation"],        questions: [          {            q: "What is the main purpose of HTML in a web page?",            options: [              "To style the page",              "To describe the structure and content",              "To handle database queries",              "To configure the web server",            ],            correctIndex: 1,            explanation:              "HTML defines the structure and meaning of the content; CSS handles styling and JS handles behaviour.",          },          {            q: "Which HTML tag is used for the most important heading?",            options: ["<head>", "<h1>", "<h6>", "<title>"],            correctIndex: 1,            explanation: "<h1> represents the main heading on a page.",          },        ],      },      {        id: "css-layout",        icon: "??",        title: "CSS layout & spacing",        difficulty: "Beginner–Intermediate",        estTime: "6–8 min",        topic: "Frontend fundamentals",        recommendedFor: ["Frontend fundamentals"],        questions: [          {            q: "Which CSS layout system is ideal for two-dimensional layouts?",            options: ["Flexbox", "Grid", "Float", "Inline-block"],            correctIndex: 1,            explanation:              "CSS Grid is designed for two-dimensional layouts; Flexbox is best for one-dimensional alignment.",          },          {            q: "Which property controls space inside an element’s border?",            options: ["margin", "padding", "gap", "border-radius"],            correctIndex: 1,            explanation: "Padding is the space between the content and the border.",          },        ],      },      {        id: "soft-communication",        icon: "??",        title: "Soft skills: communication basics",        difficulty: "All levels",        estTime: "4–6 min",        topic: "Soft skills",        recommendedFor: ["Soft skills", "Digital marketing"],        questions: [          {            q: "What is a key aspect of active listening?",            options: [              "Preparing your counter-argument",              "Interrupting with your ideas",              "Summarising what you heard",              "Looking at your phone",            ],            correctIndex: 2,            explanation:              "Summarising shows you paid attention and gives the other person a chance to correct misunderstandings.",          },          {            q: "When giving feedback, you should focus on:",            options: [              "The person’s personality",              "The specific behaviour and its impact",              "General complaints",              "Past mistakes only",            ],            correctIndex: 1,            explanation:              "Good feedback focuses on observable behaviour and its impact, not assumptions about personality.",          },        ],      },    ];    // NAVIGATION    let currentScreen = "home";    navButtons.forEach((btn) => {      btn.addEventListener("click", () => {        const screenId = btn.dataset.screen;        goToScreen(screenId);      });    });    function goToScreen(id) {      currentScreen = id;      screens.forEach((sc) => {        sc.classList.toggle("active", sc.id === "screen-" + id);      });      navButtons.forEach((btn) => {        btn.classList.toggle("active", btn.dataset.screen === id);      });      if (id === "home") {        configurePanelForHome();        renderHome();      } else if (id === "onboarding") {        configurePanelForOnboarding();        updateOnboardingUI();      } else if (id === "profile") {        configurePanelForProfile();      } else if (id === "quizzes") {        configurePanelForQuizzes();      } else if (id === "roadmap") {        configurePanelForRoadmap();      }    }    // PANEL CONFIGURATION    function configurePanelForHome() {      panelTitle.textContent = "Your EduMind home";      panelTitleBadge.textContent = "Overview · next best steps";      panelSubtitle.textContent =        "A single, clean starting point: see your current snapshot, what matters today, and jump into onboarding, quizzes or your roadmap.";    }    function configurePanelForOnboarding() {      panelTitle.textContent = "Welcome to EduMind";      panelTitleBadge.textContent =        "Step " + state.onboardingStep + " of 3 · Guided setup";      panelSubtitle.textContent =        "We’ll capture just enough information to give you a meaningful profile, recommended quizzes, and a simple roadmap.";    }    function configurePanelForProfile() {      panelTitle.textContent = "Your learning profile";      panelTitleBadge.textContent = "Snapshot · strengths & focus";      panelSubtitle.textContent =        "A clean overview of who you are as a learner – what to lean on, and where to invest your next efforts.";    }    function configurePanelForQuizzes() {      panelTitle.textContent = "Quizzes for you";      panelTitleBadge.textContent = "Micro-assessments · 3–8 minutes";      panelSubtitle.textContent =        "Short, targeted quizzes aligned with your interests and profile. Each question nudges your roadmap forward.";    }    function configurePanelForRoadmap() {      panelTitle.textContent = "Your learning roadmap";      panelTitleBadge.textContent = "Calendar view · next 4 weeks";      panelSubtitle.textContent =        "A realistic path through courses and quizzes for the upcoming weeks – tuned to your time budget and focus areas.";    }    // ONBOARDING STEP HANDLING    function updateOnboardingUI() {      if (currentScreen === "onboarding") {        configurePanelForOnboarding();      }      const step = state.onboardingStep;      onboardingStep1.style.display = step === 1 ? "grid" : "none";      onboardingStep2.style.display = step === 2 ? "grid" : "none";      onboardingStep3.style.display = step === 3 ? "grid" : "none";      btnOnboardingBack.style.visibility = step === 1 ? "hidden" : "visible";      btnOnboardingNext.textContent = step === 3 ? "Finish ?" : "Next step ?";      stepChip1.classList.toggle("active", step === 1);      stepChip2.classList.toggle("active", step === 2);      stepChip3.classList.toggle("active", step === 3);      stepDot2.classList.toggle("filled", step > 2);      stepDot3.classList.toggle("filled", step > 3);      if (step === 1) {        inputName.value = state.user.name || "";        inputEmail.value = state.user.email || "";        inputRole.value = state.user.role || "";        inputGoal.value = state.user.goal || "";      } else if (step === 2) {        qAnalytical.value = state.personality.analytical || 3;        qCreative.value = state.personality.creative || 3;        qPeople.value = state.personality.people || 3;        qStructure.value = state.personality.structure || 3;        qFocus.value = state.personality.focus || 3;      } else if (step === 3) {        updateTagSelections(topicTags, state.preferences.topics);        updateTagSelections(timeTags, [state.preferences.time]);        updateTagSelections(styleTags, state.preferences.styles);      }    }    function updateTagSelections(container, selectedValues) {      const labels = container.querySelectorAll(".tag-select");      labels.forEach((label) => {        const input = label.querySelector("input");        if (!input) return;        if (input.type === "radio") {          label.classList.toggle("active", selectedValues.includes(input.value));        } else {          label.classList.toggle("active", selectedValues.includes(input.value));        }      });    }    function saveOnboardingStep(step) {      if (step === 1) {        state.user.name = inputName.value.trim();        state.user.email = inputEmail.value.trim();        state.user.role = inputRole.value.trim();        state.user.goal = inputGoal.value.trim();      } else if (step === 2) {        state.personality.analytical = Number(qAnalytical.value);        state.personality.creative = Number(qCreative.value);        state.personality.people = Number(qPeople.value);        state.personality.structure = Number(qStructure.value);        state.personality.focus = Number(qFocus.value);        deriveStrengthsAndGrowth();      } else if (step === 3) {        state.preferences.topics = getSelectedValues(topicTags, "checkbox");        const timeVal = getSelectedValues(timeTags, "radio")[0] || "";        state.preferences.time = timeVal;        state.preferences.styles = getSelectedValues(styleTags, "checkbox");      }      saveState();    }    function getSelectedValues(container, type) {      const values = [];      const inputs = container.querySelectorAll("input");      inputs.forEach((input) => {        if (type === "checkbox" && input.type === "checkbox" && input.checked) {          values.push(input.value);        }        if (type === "radio" && input.type === "radio" && input.checked) {          values.push(input.value);        }      });      return values;    }    // Strength / growth derivation    function deriveStrengthsAndGrowth() {      const traits = [        { key: "analytical", label: "Analytical thinking", value: state.personality.analytical },        { key: "creative", label: "Creative problem-solving", value: state.personality.creative },        { key: "people", label: "People & collaboration", value: state.personality.people },        { key: "structure", label: "Structure & organisation", value: state.personality.structure },        { key: "focus", label: "Deep-focus capacity", value: state.personality.focus },      ];      const sorted = traits.slice().sort((a, b) => b.value - a.value);      state.strengths = sorted.slice(0, 2).map((t) => t.label);      state.growthAreas = sorted.slice(-2).map((t) => t.label);    }    btnOnboardingNext.addEventListener("click", () => {      saveOnboardingStep(state.onboardingStep);      if (state.onboardingStep < 3) {        state.onboardingStep += 1;        saveState();        updateOnboardingUI();      } else {        saveOnboardingStep(3);        goToScreen("profile");      }      updateUIAll();      renderHome();    });    btnOnboardingBack.addEventListener("click", () => {      if (state.onboardingStep > 1) {        state.onboardingStep -= 1;        saveState();        updateOnboardingUI();      }    });    // Tag toggle interactions    function initTagClick(container, singleChoice = false) {      container.addEventListener("click", (e) => {        const label = e.target.closest(".tag-select");        if (!label) return;        const input = label.querySelector("input");        if (!input) return;        if (input.type === "radio" || singleChoice) {          const labels = container.querySelectorAll(".tag-select");          labels.forEach((l) => l.classList.remove("active"));          input.checked = true;          label.classList.add("active");        } else {          input.checked = !label.classList.contains("active");          label.classList.toggle("active");        }      });    }    initTagClick(topicTags);    initTagClick(timeTags, true);    initTagClick(styleTags);    // PROFILE RENDER    function renderProfile() {      const hasName = !!state.user.name;      userChipName.textContent = hasName ? state.user.name : "New learner";      avatarCircle.textContent = hasName ? (state.user.name[0] || "U").toUpperCase() : "U";      if (!hasName) {        profileSummaryLabel.textContent = "New learner";        profileIntro.textContent =          "Once you complete the guided onboarding, you’ll see a clean summary of your learning profile here.";        profileHighlights.innerHTML = "";        strengthsBody.textContent =          "Complete the personality snapshot to see which traits support your learning the most.";        growthBody.textContent =          "We’ll highlight 1–2 areas where a tiny change to habits can unlock disproportionate gains.";        prefsSummaryLabel.textContent = "Not set yet";        prefsTopicsRow.innerHTML = "";        prefsStylesRow.innerHTML = "";        return;      }      const rolePart = state.user.role ? state.user.role : "Learner";      profileSummaryLabel.textContent = rolePart;      const goalText = state.user.goal        ? "Your main goal: " + state.user.goal        : "You have not set a specific goal yet – that’s totally fine for a demo.";      profileIntro.textContent = goalText;      profileHighlights.innerHTML = "";      if (state.strengths.length) {        state.strengths.forEach((s) => {          const span = document.createElement("span");          span.className = "chip-strong";          span.textContent = s;          profileHighlights.appendChild(span);        });      }      if (state.growthAreas.length) {        state.growthAreas.forEach((g) => {          const span = document.createElement("span");          span.className = "chip-weak";          span.textContent = g;          profileHighlights.appendChild(span);        });      }      if (!state.strengths.length && !state.growthAreas.length) {        const span = document.createElement("span");        span.className = "muted";        span.textContent =          "Complete the personality step to see strengths and growth opportunities.";        profileHighlights.appendChild(span);      }      if (state.strengths.length) {        strengthsBody.innerHTML =          "<ul style='padding-left:16px;margin-top:2px;'>" +          state.strengths            .map((s) => "<li><strong>" + s + "</strong> · Use this as your learning superpower.</li>")            .join("") +          "</ul>";      }      if (state.growthAreas.length) {        growthBody.innerHTML =          "<ul style='padding-left:16px;margin-top:2px;'>" +          state.growthAreas            .map(              (g) =>                "<li><strong>" +                g +                "</strong> · Small experiments here can unlock a lot of extra progress.</li>"            )            .join("") +          "</ul>";      }      const topics = state.preferences.topics || [];      const styles = state.preferences.styles || [];      const time = state.preferences.time || "";      prefsTopicsRow.innerHTML = "";      if (topics.length) {        topics.forEach((t) => {          const span = document.createElement("span");          span.className = "side-pill";          span.textContent = t;          prefsTopicsRow.appendChild(span);        });      } else {        prefsTopicsRow.innerHTML =          "<span class='muted'>No topics selected yet.</span>";      }      prefsStylesRow.innerHTML = "";      if (styles.length) {        styles.forEach((s) => {          const span = document.createElement("span");          span.className = "side-pill";          span.textContent = s;          prefsStylesRow.appendChild(span);        });      } else {        prefsStylesRow.innerHTML =          "<span class='muted'>No learning style preferences selected yet.</span>";      }      if (topics.length || styles.length || time) {        let label = "";        if (topics.length) {          label += topics[0];          if (topics.length > 1) label += " + " + (topics.length - 1) + " more";        } else {          label += "General";        }        if (time) {          label += " · " + time;        }        prefsSummaryLabel.textContent = label;      } else {        prefsSummaryLabel.textContent = "Not set yet";      }    }    // Accordion toggles    function initAccordion(accEl) {      const header = accEl.querySelector(".accordion-header");      const body = accEl.querySelector(".accordion-body");      if (!header || !body) return;      header.addEventListener("click", () => {        body.classList.toggle("open");      });    }    initAccordion(document.getElementById("accStrengths"));    initAccordion(document.getElementById("accGrowth"));    initAccordion(document.getElementById("accLearningStyle"));    btnRetakeTest.addEventListener("click", () => {      state.onboardingStep = 2;      goToScreen("onboarding");      updateOnboardingUI();    });    // SNAPSHOT PANEL    function renderSnapshot() {      const totalCorrect = state.quiz.totalCorrect || 0;      const accuracy =        state.quiz.totalAnswered === 0          ? 0          : Math.round((state.quiz.totalCorrect / state.quiz.totalAnswered) * 100);      const streakPseudo = Math.min(totalCorrect, 7);      streakLabel.textContent = streakPseudo + " day" + (streakPseudo === 1 ? "" : "s");      streakBar.style.width = Math.min(streakPseudo * 14, 100) + "%";      accuracyLabel.textContent = accuracy + "%";      accuracyBar.style.width = accuracy + "%";      const hasName = !!state.user.name;      snapshotSub.textContent = hasName ? "Tuned to " + state.user.name : "Getting to know you";      snapshotTraits.innerHTML = "";      const traitLabels = {        analytical: "Analytical",        creative: "Creative",        people: "People-oriented",        structure: "Structured",        focus: "Deep focus",      };      Object.entries(state.personality).forEach(([key, value]) => {        if (!value) return;        const pill = document.createElement("span");        pill.className = "side-pill";        pill.textContent = traitLabels[key] + " • " + value + "/5";        snapshotTraits.appendChild(pill);      });      if (!snapshotTraits.childElementCount) {        const span = document.createElement("span");        span.className = "muted";        span.textContent = "Complete the personality step to see your traits here.";        snapshotTraits.appendChild(span);      }      snapshotFocusAreas.innerHTML = "";      if (state.preferences.topics && state.preferences.topics.length) {        state.preferences.topics.forEach((t) => {          const span = document.createElement("span");          span.className = "side-pill";          span.textContent = t;          snapshotFocusAreas.appendChild(span);        });      } else {        const span = document.createElement("span");        span.className = "muted";        span.textContent = "Pick topics you care about in the preferences step.";        snapshotFocusAreas.appendChild(span);      }    }    // QUIZ RENDER & LOGIC    function ensurePerQuizState(quizId) {      if (!state.quiz.perQuiz[quizId]) {        state.quiz.perQuiz[quizId] = { answered: 0, correct: 0 };      }      return state.quiz.perQuiz[quizId];    }    function renderQuizList() {      quizListEl.innerHTML = "";      const topics = state.preferences.topics || [];      quizzesData.forEach((q) => {        const row = ensurePerQuizState(q.id);        const answered = row.answered || 0;        const correct = row.correct || 0;        const progress =          answered === 0 ? 0 : Math.round((correct / q.questions.length) * 100);        const isRecommended =          topics.length && q.recommendedFor.some((t) => topics.includes(t));        const card = document.createElement("div");        card.className = "quiz-card";        card.dataset.quizId = q.id;        card.innerHTML =          '<div class="quiz-icon">' +          q.icon +          "</div>" +          '<div class="quiz-main">' +          '<div class="quiz-title">' +          q.title +          "</div>" +          '<div class="quiz-meta-row">' +          "<span>" +          q.difficulty +          "</span>" +          "<span>· " +          q.estTime +          "</span>" +          "<span>· " +          q.topic +          "</span>" +          "</div>" +          '<div class="progress-bar" style="margin-top:4px;">' +          '<div class="progress-bar-inner" style="width:' +          progress +          '%;"></div>' +          "</div>" +          "</div>" +          '<div style="display:flex;flex-direction:column;align-items:flex-end;gap:4px;">' +          '<span class="quiz-progress-label">' +          (answered > 0 ? correct + "/" + answered + " correct" : "Not started") +          "</span>" +          '<span class="quiz-badge ' +          (isRecommended ? "recommended" : "") +          '">' +          (isRecommended ? "Recommended for you" : "Try this next") +          "</span>" +          "</div>";        card.addEventListener("click", () => startQuiz(q.id));        quizListEl.appendChild(card);      });    }    function getCurrentQuiz() {      return quizzesData.find((q) => q.id === state.quiz.currentQuizId) || null;    }    function startQuiz(quizId) {      state.quiz.currentQuizId = quizId;      state.quiz.currentQuestionIndex = 0;      saveState();      renderQuizPanel();      renderQuizList();      renderHome();    }    function renderQuizPanel() {      const quiz = getCurrentQuiz();      if (!quiz) {        quizMetaLabel.textContent = "Pick a quiz to get started";        quizQuestionText.textContent =          "Choose a quiz on the left. We'll show one question at a time, optimised for quick progress.";        quizOptionsEl.innerHTML = "";        quizFeedbackEl.textContent = "";        quizProgressLabel.textContent =          "Score: " + state.quiz.totalCorrect + " / " + state.quiz.totalAnswered;        return;      }      const row = ensurePerQuizState(quiz.id);      const questionCount = quiz.questions.length;      if (state.quiz.currentQuestionIndex >= questionCount) {        state.quiz.currentQuestionIndex = 0;      }      if (state.quiz.currentQuestionIndex < 0) {        state.quiz.currentQuestionIndex = 0;      }      const qIndex = state.quiz.currentQuestionIndex;      const question = quiz.questions[qIndex];      quizMetaLabel.textContent =        "Quiz: " + quiz.title + " · Question " + (qIndex + 1) + " of " + questionCount;      quizQuestionText.textContent = question.q;      quizFeedbackEl.textContent = "Select an option to see the explanation.";      quizFeedbackEl.classList.remove("correct", "incorrect");      quizOptionsEl.innerHTML = "";      question.options.forEach((optText, idx) => {        const opt = document.createElement("div");        opt.className = "quiz-option";        const letter = String.fromCharCode(65 + idx);        opt.innerHTML =          '<div class="quiz-option-label">' +          '<div class="quiz-option-letter">' +          letter +          "</div>" +          "<div>" +          optText +          "</div>" +          "</div>" +          '<div style="font-size:11px;color:var(--text-soft);">Tap to answer</div>';        opt.addEventListener("click", () =>          handleAnswer(quiz.id, question, idx, opt)        );        quizOptionsEl.appendChild(opt);      });      quizProgressLabel.textContent =        "Score: " + state.quiz.totalCorrect + " / " + state.quiz.totalAnswered;    }    function handleAnswer(quizId, question, chosenIndex, chosenElement) {      const correctIndex = question.correctIndex;      const isCorrect = chosenIndex === correctIndex;      state.quiz.totalAnswered += 1;      if (isCorrect) {        state.quiz.totalCorrect += 1;        state.quiz.streak += 1;      } else {        state.quiz.streak = 0;      }      const row = ensurePerQuizState(quizId);      row.answered = (row.answered || 0) + 1;      if (isCorrect) {        row.correct = (row.correct || 0) + 1;      }      Array.from(quizOptionsEl.children).forEach((opt, idx) => {        opt.classList.remove("correct", "incorrect");        if (idx === correctIndex) {          opt.classList.add("correct");        } else if (idx === chosenIndex && !isCorrect) {          opt.classList.add("incorrect");        }      });      quizFeedbackEl.textContent = question.explanation;      quizFeedbackEl.classList.toggle("correct", isCorrect);      quizFeedbackEl.classList.toggle("incorrect", !isCorrect);      quizProgressLabel.textContent =        "Score: " + state.quiz.totalCorrect + " / " + state.quiz.totalAnswered;      saveState();      renderSnapshot();      renderRoadmap();      renderQuizList();      renderHome();    }    btnNextQuestion.addEventListener("click", () => {      const quiz = getCurrentQuiz();      if (!quiz) return;      state.quiz.currentQuestionIndex =        (state.quiz.currentQuestionIndex + 1) % quiz.questions.length;      saveState();      renderQuizPanel();    });    // ROADMAP    function buildRoadmapData() {      const topics = state.preferences.topics && state.preferences.topics.length        ? state.preferences.topics        : ["Frontend fundamentals", "Soft skills"];      const timeBucket = state.preferences.time || "3–5h / week";      const totalQuestions = quizzesData.reduce(        (sum, q) => sum + q.questions.length,        0      );      const correct = state.quiz.totalCorrect || 0;      const accuracy =        totalQuestions === 0 ? 0 : Math.min(Math.round((correct / totalQuestions) * 100), 100);      const weeks = [        {          label: "Week 1",          focus: topics[0],          details: [            "Complete 2–3 short quizzes in your primary focus area.",            "Skim through a micro-course overview (15–20 minutes).",          ],        },        {          label: "Week 2",          focus: topics[1] || topics[0],          details: [            "Reinforce concepts with 1–2 follow-up quizzes.",            "Start a mini project or case study based on what you learned.",          ],        },        {          label: "Week 3",          focus: "Mix & integration",          details: [            "Alternate between technical and soft-skill content.",            "Try explaining one concept to someone else in simple language.",          ],        },        {          label: "Week 4",          focus: "Review & reflection",          details: [            "Retake key quizzes to see improvement.",            "Write a short reflection on progress and next priorities.",          ],        },      ];      return { weeks, timeBucket, accuracy };    }    function renderRoadmap() {      const { weeks, timeBucket, accuracy } = buildRoadmapData();      roadmapList.innerHTML = "";      weeks.forEach((week, idx) => {        const progressBase = accuracy;        const progress =          idx === 0            ? Math.min(progressBase, 100)            : idx === 1            ? Math.min(progressBase * 0.8, 100)            : idx === 2            ? Math.min(progressBase * 0.6, 100)            : Math.min(progressBase * 0.4, 100);        const card = document.createElement("div");        card.className = "roadmap-card";        card.innerHTML =          '<div class="roadmap-header">' +          '<div class="roadmap-title">' +          week.label +          "</div>" +          '<div class="roadmap-meta">' +          week.focus +          " · " +          timeBucket +          "</div>" +          "</div>" +          '<div class="progress-bar" style="margin-top:4px;">' +          '<div class="progress-bar-inner" style="width:' +          progress +          '%;"></div>' +          "</div>" +          '<ul class="roadmap-task-list">' +          week.details.map((d) => "<li>" + d + "</li>").join("") +          "</ul>";        roadmapList.appendChild(card);      });    }    // HOME RENDER    function renderHome() {      const hasName = !!state.user.name;      const topics = state.preferences.topics || [];      const timeBucket = state.preferences.time || "";      const styles = state.preferences.styles || [];      homeHeroKicker.textContent = hasName        ? "Welcome back, " + state.user.name        : "Welcome, new learner";      homeHeroTitle.innerHTML = hasName        ? 'Nice to see you, <span class="accent">' +          (state.user.name || "learner") +          "</span>."        : 'Let’s turn <span class="accent">small learning blocks</span> into real momentum.';      homeHeroSubtitle.textContent = hasName        ? "Pick one small thing for today: a quick quiz, a micro-lesson, or a roadmap step that fits your real life."        : "Start with a 1-minute setup, then move through short quizzes and a realistic roadmap tuned to your weekly time budget.";      // Buttons      btnHomePrimary.textContent = hasName ? "? Adjust your profile" : "?? Start onboarding";      btnHomeSecondary.textContent = "?? Jump into a quiz";      homeHeroPills.innerHTML = "";      const pill1 = document.createElement("div");      pill1.className = "home-hero-pill";      pill1.textContent = "?? No account in this demo · local only";      const pill2 = document.createElement("div");      pill2.className = "home-hero-pill";      pill2.textContent = "?? Designed for 10–20 min sessions";      homeHeroPills.appendChild(pill1);      homeHeroPills.appendChild(pill2);      if (topics.length) {        const pill3 = document.createElement("div");        pill3.className = "home-hero-pill";        pill3.textContent = "?? Focus: " + topics.join(", ");        homeHeroPills.appendChild(pill3);      }      // Quick snapshot mini list      const rowCorrect = state.quiz.totalCorrect || 0;      const rowAnswered = state.quiz.totalAnswered || 0;      const accuracy =        rowAnswered === 0 ? 0 : Math.round((rowCorrect / rowAnswered) * 100);      const streakPseudo = Math.min(rowCorrect, 7);      const hasSetup = hasName || topics.length || timeBucket || styles.length;      homeQuickLabel.textContent = hasSetup ? "Setup in progress" : "Ready for first setup";      homeMiniList.innerHTML = "";      const items = [        {          label: "Profile",          value: hasName ? "Name set" : "Not set yet",          dot: hasName ? "green" : "orange",        },        {          label: "Focus areas",          value: topics.length ? topics.join(", ") : "No topics selected",          dot: topics.length ? "green" : "orange",        },        {          label: "Time budget",          value: timeBucket || "Not set yet",          dot: timeBucket ? "green" : "orange",        },      ];      items.forEach((item) => {        const row = document.createElement("div");        row.className = "home-mini-item";        row.innerHTML =          '<div class="home-mini-label">' +          '<div class="home-dot ' +          item.dot +          '"></div>' +          "<span>" +          item.label +          "</span>" +          "</div>" +          '<div style="font-size:11px;color:var(--text-soft);">' +          item.value +          "</div>";        homeMiniList.appendChild(row);      });      // KPIs      homeKpiAccuracy.textContent = accuracy + "%";      homeKpiStreak.textContent = streakPseudo + " day" + (streakPseudo === 1 ? "" : "s");      homeKpiFocusCount.textContent = topics.length.toString();      homeTimeBudgetLabel.textContent = timeBucket        ? "Time budget · " + timeBucket        : "Time budget · not set";      homeTodaySub.textContent = rowAnswered        ? "Based on your quiz history, here’s what matters most today."        : "We’ll add more targeted suggestions after your first few quizzes.";      // Next actions list      homeNextActions.innerHTML = "";      const nextActions = [];      if (!hasName) {        nextActions.push({          title: "Complete your onboarding",          meta: "3 short steps · name, personality, preferences",          pill: "? Required to personalise everything",          action: () => goToScreen("onboarding"),        });      } else {        nextActions.push({          title: "Review your profile snapshot",          meta: "Check strengths & growth areas",          pill: "?? Profile",          action: () => goToScreen("profile"),        });      }      nextActions.push({        title: "Take a recommended quiz",        meta: topics.length ? "Aligned with: " + topics[0] : "General foundational quiz",        pill: "?? Quizzes",        action: () => goToScreen("quizzes"),      });      nextActions.push({        title: "Glance at your roadmap",        meta: "See weekly focus and main tasks",        pill: "?? Roadmap",        action: () => goToScreen("roadmap"),      });      nextActions.forEach((item) => {        const row = document.createElement("div");        row.className = "home-list-item";        row.innerHTML =          '<div class="home-list-text">' +          '<div class="home-list-title">' +          item.title +          "</div>" +          '<div class="home-list-meta">' +          item.meta +          "</div>" +          "</div>" +          '<div class="home-list-pill">' +          item.pill +          "</div>";        row.addEventListener("click", item.action);        homeNextActions.appendChild(row);      });      // Today for you      homeTodaySection.innerHTML = "";      const personalityDesc = state.strengths.length        ? "Lean on your strengths today: " + state.strengths.join(" & ") + "."        : "Complete the personality step to see what you can lean on while learning.";      const quickQuizTitle = getCurrentQuiz()        ? "Continue: " + getCurrentQuiz().title        : "Start your first short quiz";      const quickQuizText = rowAnswered        ? "You’ve already answered " +          rowAnswered +          " question" +          (rowAnswered === 1 ? "" : "s") +          ". One more mini-quiz keeps the momentum."        : "Pick any quiz that looks interesting – you only need a few minutes.";      const reflectionText = rowAnswered        ? "In one sentence, note what felt easy vs. confusing in your last quiz. That’s your roadmap signal."        : "After your first quiz, take 30 seconds to write what surprised you. This is where real learning starts.";      const todayCards = [        {          icon: "??",          label: "Personality insight",          title: "How to learn like you",          text: personalityDesc,        },        {          icon: "?",          label: "Micro-challenge",          title: quickQuizTitle,          text: quickQuizText,        },        {          icon: "??",          label: "Reflection",          title: "One quick note for future you",          text: reflectionText,        },      ];      todayCards.forEach((card) => {        const el = document.createElement("div");        el.className = "home-today-card";        el.innerHTML =          '<div class="home-today-label">' +          "<span>" +          card.icon +          "</span>" +          "<span>" +          card.label +          "</span>" +          "</div>" +          '<div class="home-today-title">' +          card.title +          "</div>" +          '<div class="home-today-text">' +          card.text +          "</div>";        homeTodaySection.appendChild(el);      });    }    // Reset demo    btnResetDemo.addEventListener("click", () => {      resetState();    });    // Home buttons navigation    btnHomePrimary.addEventListener("click", () => {      if (!state.user.name) {        state.onboardingStep = 1;        goToScreen("onboarding");        updateOnboardingUI();      } else {        goToScreen("profile");      }    });    btnHomeSecondary.addEventListener("click", () => {      goToScreen("quizzes");    });    // Initial UI    function updateUIAll() {      updateOnboardingUI();      renderProfile();      renderSnapshot();      renderQuizList();      renderQuizPanel();      renderRoadmap();      renderHome();    }    // On load    updateUIAll();    goToScreen("home");  </script></body></html>